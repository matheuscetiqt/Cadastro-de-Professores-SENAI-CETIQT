<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Gestão de Professores</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f6f8;
  padding: 20px;
}
h1 {
  text-align: center;
}
.card {
  background: #fff;
  padding: 15px;
  border-radius: 8px;
  margin-bottom: 20px;
}
input, button {
  padding: 8px;
  margin-top: 5px;
  width: 100%;
}
button {
  background: #007bff;
  color: white;
  border: none;
  cursor: pointer;
}
button:hover {
  background: #0056b3;
}
table {
  width: 100%;
  border-collapse: collapse;
}
th, td {
  border: 1px solid #ccc;
  padding: 8px;
  text-align: center;
}
.actions button {
  margin: 2px;
}
</style>
</head>

<body>

<h1>Gestão de Professores</h1>

<div class="card">
  <h3>Cadastrar / Editar Professor</h3>
  <input id="nome" placeholder="Nome do professor">
  <input id="disciplina" placeholder="Disciplina">
  <input id="valorHora" type="number" placeholder="Valor da hora/aula">
  <button onclick="salvarProfessor()">Salvar</button>
</div>

<div class="card">
  <h3>Professores Cadastrados</h3>
  <table>
    <thead>
      <tr>
        <th>Nome</th>
        <th>Disciplina</th>
        <th>Valor Hora</th>
        <th>Carga Horária</th>
        <th>Total</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody id="tabela"></tbody>
  </table>
</div>

<script>
let professores = JSON.parse(localStorage.getItem("professores")) || [];
let editIndex = null;

function salvarProfessor() {
  const nome = document.getElementById("nome").value.trim();
  const disciplina = document.getElementById("disciplina").value.trim();
  const valorHora = parseFloat(document.getElementById("valorHora").value);

  if (!nome || !disciplina || isNaN(valorHora)) {
    alert("Preencha todos os campos corretamente.");
    return;
  }

  const professor = { nome, disciplina, valorHora };

  if (editIndex !== null) {
    professores[editIndex] = professor;
    editIndex = null;
  } else {
    professores.push(professor);
  }

  localStorage.setItem("professores", JSON.stringify(professores));
  limparCampos();
  listarProfessores();
}

function listarProfessores() {
  const tabela = document.getElementById("tabela");
  tabela.innerHTML = "";

  professores.forEach((p, i) => {
    tabela.innerHTML += `
      <tr>
        <td>${p.nome}</td>
        <td>${p.disciplina}</td>
        <td>R$ ${p.valorHora.toFixed(2)}</td>
        <td>
          <input type="number" id="horas${i}" placeholder="Horas">
        </td>
        <td>
          <button onclick="calcular(${i})">Calcular</button>
          <div id="total${i}"></div>
        </td>
        <td class="actions">
          <button onclick="editar(${i})">Editar</button>
          <button onclick="excluir(${i})" style="background:red">Excluir</button>
        </td>
      </tr>
    `;
  });
}

function calcular(i) {
  const horas = document.getElementById(`horas${i}`).value;
  if (!horas) {
    alert("Informe a carga horária.");
    return;
  }
  const total = horas * professores[i].valorHora;
  document.getElementById(`total${i}`).innerText =
    `R$ ${total.toFixed(2)}`;
}

function editar(i) {
  document.getElementById("nome").value = professores[i].nome;
  document.getElementById("disciplina").value = professores[i].disciplina;
  document.getElementById("valorHora").value = professores[i].valorHora;
  editIndex = i;
}

function excluir(i) {
  if (confirm("Deseja excluir este professor?")) {
    professores.splice(i, 1);
    localStorage.setItem("professores", JSON.stringify(professores));
    listarProfessores();
  }
}

function limparCampos() {
  document.getElementById("nome").value = "";
  document.getElementById("disciplina").value = "";
  document.getElementById("valorHora").value = "";
}

listarProfessores();
</script>

</body>
</html>
