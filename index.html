<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gest√£o de Professores - SENAI CETIQT</title>
<style>
    body {
        font-family: 'Segoe UI', sans-serif;
        background-color: #f5f5f5;
        margin: 0;
        padding: 0;
    }
    header {
        background-color: #1e3a8a;
        color: white;
        padding: 20px;
        text-align: center;
        font-size: 1.6em;
        font-weight: bold;
    }
    main {
        max-width: 900px;
        margin: 30px auto;
        background-color: white;
        padding: 25px;
        border-radius: 10px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    h2 { color: #1e3a8a; }
    label { display: block; margin-top: 10px; font-weight: bold; }
    input, select, button {
        width: 100%;
        padding: 8px;
        margin-top: 5px;
        border-radius: 5px;
        border: 1px solid #ccc;
        box-sizing: border-box;
        font-size: 1em;
    }
    button {
        background-color: #1e3a8a;
        color: white;
        font-weight: bold;
        margin-top: 15px;
        cursor: pointer;
        transition: 0.3s;
    }
    button:hover { background-color: #374eb2; }
    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
    }
    th, td {
        padding: 10px;
        border-bottom: 1px solid #ddd;
        text-align: left;
    }
    th {
        background-color: #1e3a8a;
        color: white;
    }
    .action-btn {
        padding: 5px 10px;
        margin-right: 5px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        color: white;
        font-size: 0.9em;
    }
    .edit-btn { background-color: #f59e0b; }
    .edit-btn:hover { background-color: #d97706; }
    .delete-btn { background-color: #ef4444; }
    .delete-btn:hover { background-color: #b91c1c; }
    .resultado {
        margin-top: 15px;
        padding: 10px;
        background-color: #f3f4f6;
        border-radius: 8px;
    }
    .referencia {
        background:#f3f4f6;
        padding:15px;
        border-radius:8px;
        margin-bottom:20px;
        font-size:0.95em;
    }
</style>
</head>
<body>
<header>Gest√£o de Professores - SENAI CETIQT</header>
<main>
    <h2>Cadastro de Professor</h2>

    <!-- üîπ BLOCO DE REFER√äNCIA VISUAL (N√ÉO SALVA) -->
    <div class="referencia">
        <strong>Refer√™ncia para Solicita√ß√£o de Compras</strong><br><br>
        <strong>Centro de Custo / Curso:</strong><br>
        ‚Ä¢ 3101040212 - P√≥s gradua√ß√£o<br>
        ‚Ä¢ 30304011105 - Curso SEPRO (Seguran√ßa de Processos)<br><br>

        <strong>Produto / Tipo de Atividade:</strong><br>
        ‚Ä¢ 100021663 - Ministrar aula<br>
        ‚Ä¢ 100022010 - Desenvolvimento de conte√∫do<br>
        ‚Ä¢ 100021664 - Tutoria
    </div>

    <label>Nome do Professor:</label>
    <input type="text" id="nomeProfessor">

    <label>Disciplina:</label>
    <input type="text" id="disciplina">

    <label>Valor da Aula (R$):</label>
    <input type="number" id="valorAula" min="0" step="0.01">

    <label>Carga Hor√°ria (horas):</label>
    <input type="number" id="cargaHoraria" min="0" step="1">

    <button onclick="cadastrarOuAtualizarProfessor()">Cadastrar / Atualizar</button>

    <h2>Pesquisar</h2>
    <label>Pesquisar por Nome do Professor:</label>
    <input type="text" id="pesquisaNome">
    <label>Pesquisar por Disciplina:</label>
    <input type="text" id="pesquisaDisciplina">
    <button onclick="pesquisarProfessor()">Pesquisar</button>

    <div class="resultado" id="resultadoPesquisa"></div>

    <h2>Base de Professores</h2>
    <table id="tabelaProfessores">
        <thead>
            <tr>
                <th>Nome</th>
                <th>Disciplina</th>
                <th>Valor Aula</th>
                <th>Carga Hor√°ria</th>
                <th>Valor Total</th>
                <th>A√ß√µes</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</main>

<script>
let professores = [];
let editIndex = -1;

window.onload = function() {
    const dados = localStorage.getItem('professores');
    if(dados) {
        professores = JSON.parse(dados);
        atualizarTabela();
    }
}

function salvarLocalStorage() {
    localStorage.setItem('professores', JSON.stringify(professores));
}

function cadastrarOuAtualizarProfessor() {
    const nome = document.getElementById('nomeProfessor').value.trim();
    const disciplina = document.getElementById('disciplina').value.trim();
    const valorAula = parseFloat(document.getElementById('valorAula').value);
    const cargaHoraria = parseInt(document.getElementById('cargaHoraria').value);

    if(!nome || !disciplina || isNaN(valorAula) || isNaN(cargaHoraria)) {
        alert('Preencha todos os campos corretamente!');
        return;
    }

    const professor = {
        nome,
        disciplina,
        valorAula,
        cargaHoraria,
        valorTotal: valorAula * cargaHoraria
    };

    if(editIndex >= 0) {
        professores[editIndex] = professor;
        editIndex = -1;
        alert('Cadastro atualizado com sucesso!');
    } else {
        professores.push(professor);
        alert('Professor cadastrado com sucesso!');
    }

    salvarLocalStorage();
    limparCampos();
    atualizarTabela();
}

function pesquisarProfessor() {
    const nomePesquisa = document.getElementById('pesquisaNome').value.trim().toLowerCase();
    const disciplinaPesquisa = document.getElementById('pesquisaDisciplina').value.trim().toLowerCase();
    const resultadoDiv = document.getElementById('resultadoPesquisa');

    let resultados = professores.filter(p => {
        let nomeMatch = nomePesquisa ? p.nome.toLowerCase().includes(nomePesquisa) : true;
        let disciplinaMatch = disciplinaPesquisa ? p.disciplina.toLowerCase().includes(disciplinaPesquisa) : true;
        return nomeMatch && disciplinaMatch;
    });

    if(resultados.length === 0) {
        resultadoDiv.innerHTML = 'Nenhum professor encontrado.';
    } else {
        resultadoDiv.innerHTML = resultados.map(p => `
            <strong>Nome:</strong> ${p.nome}<br>
            <strong>Disciplina:</strong> ${p.disciplina}<br>
            <strong>Valor da Aula:</strong> R$ ${p.valorAula.toFixed(2)}<br>
            <strong>Carga Hor√°ria:</strong> ${p.cargaHoraria} horas<br>
            <strong>Valor Total:</strong> R$ ${p.valorTotal.toFixed(2)}<br>
            <hr>
        `).join('');
    }
}

function atualizarTabela() {
    const tbody = document.querySelector('#tabelaProfessores tbody');
    tbody.innerHTML = '';
    professores.forEach((prof, index) => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
            <td>${prof.nome}</td>
            <td>${prof.disciplina}</td>
            <td>R$ ${prof.valorAula.toFixed(2)}</td>
            <td>${prof.cargaHoraria}</td>
            <td>R$ ${prof.valorTotal.toFixed(2)}</td>
            <td>
                <button class="action-btn edit-btn" onclick="editarProfessor(${index})">Editar</button>
                <button class="action-btn delete-btn" onclick="excluirProfessor(${index})">Excluir</button>
            </td>
        `;
        tbody.appendChild(tr);
    });
}

function editarProfessor(index) {
    const prof = professores[index];
    document.getElementById('nomeProfessor').value = prof.nome;
    document.getElementById('disciplina').value = prof.disciplina;
    document.getElementById('valorAula').value = prof.valorAula;
    document.getElementById('cargaHoraria').value = prof.cargaHoraria;
    editIndex = index;
}

function excluirProfessor(index) {
    if(confirm('Tem certeza que deseja excluir este professor?')) {
        professores.splice(index, 1);
        salvarLocalStorage();
        atualizarTabela();
    }
}

function limparCampos() {
    document.getElementById('nomeProfessor').value = '';
    document.getElementById('disciplina').value = '';
    document.getElementById('valorAula').value = '';
    document.getElementById('cargaHoraria').value = '';
    document.getElementById('pesquisaNome').value = '';
    document.getElementById('pesquisaDisciplina').value = '';
    document.getElementById('resultadoPesquisa').innerHTML = '';
}
</script>
</body>
</html>
