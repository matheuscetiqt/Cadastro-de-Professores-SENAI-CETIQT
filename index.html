<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gest√£o de Professores - SENAI CETIQT</title>
<style>
    body {
        font-family: 'Segoe UI', sans-serif;
        background-color: #f5f5f5;
        margin: 0;
        padding: 0;
    }
    header {
        background-color: #1e3a8a;
        color: white;
        padding: 20px;
        text-align: center;
        font-size: 1.6em;
        font-weight: bold;
    }
    main {
        max-width: 900px;
        margin: 30px auto;
        background-color: white;
        padding: 25px;
        border-radius: 10px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    h2 { color: #1e3a8a; }
    label { display: block; margin-top: 10px; font-weight: bold; }
    input, select, button {
        width: 100%;
        padding: 8px;
        margin-top: 5px;
        border-radius: 5px;
        border: 1px solid #ccc;
        box-sizing: border-box;
        font-size: 1em;
    }
    button {
        background-color: #1e3a8a;
        color: white;
        font-weight: bold;
        margin-top: 15px;
        cursor: pointer;
    }
    button:hover { background-color: #374eb2; }
    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
    }
    th, td {
        padding: 10px;
        border-bottom: 1px solid #ddd;
        text-align: left;
    }
    th {
        background-color: #1e3a8a;
        color: white;
    }
    .action-btn {
        padding: 5px 10px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        color: white;
        font-size: 0.9em;
    }
    .edit-btn { background-color: #f59e0b; }
    .delete-btn { background-color: #ef4444; }
</style>
</head>
<body>

<header>Gest√£o de Professores - SENAI CETIQT</header>

<main>
    <h2>Cadastro de Professor</h2>

    <label>Professor:</label>
    <select id="professorSelect" onchange="carregarDisciplinas()">
        <option value="">Selecione o professor</option>
    </select>

    <label>Disciplina:</label>
    <select id="disciplinaSelect" onchange="preencherDadosDisciplina()">
        <option value="">Selecione a disciplina</option>
    </select>

    <label>Valor da Aula (R$):</label>
    <input type="number" id="valorAula" readonly>

    <label>Carga Hor√°ria (horas):</label>
    <input type="number" id="cargaHoraria" readonly>

    <button onclick="cadastrarOuAtualizarProfessor()">Cadastrar</button>

    <h2>Base de Professores</h2>
    <table id="tabelaProfessores">
        <thead>
            <tr>
                <th>Nome</th>
                <th>Disciplina</th>
                <th>Valor Aula</th>
                <th>Carga Hor√°ria</th>
                <th>Valor Total</th>
                <th>A√ß√µes</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</main>

<script>
let professores = [];

// üîπ RELA√á√ÉO PROFESSOR ‚Üí DISCIPLINAS
const baseProfessores = {
    "Carlos Silva": [
        { disciplina: "Python B√°sico", carga: 40, valor: 120 },
        { disciplina: "L√≥gica de Programa√ß√£o", carga: 30, valor: 110 }
    ],
    "Ana Souza": [
        { disciplina: "Seguran√ßa de Processos", carga: 60, valor: 150 },
        { disciplina: "Gest√£o de Riscos", carga: 45, valor: 140 }
    ],
    "Roberto Lima": [
        { disciplina: "Automa√ß√£o Industrial", carga: 50, valor: 160 }
    ]
};

window.onload = function() {
    const select = document.getElementById("professorSelect");
    Object.keys(baseProfessores).forEach(nome => {
        let option = document.createElement("option");
        option.value = nome;
        option.textContent = nome;
        select.appendChild(option);
    });

    const dados = localStorage.getItem('professores');
    if(dados) {
        professores = JSON.parse(dados);
        atualizarTabela();
    }
};

function carregarDisciplinas() {
    disciplinaSelect.innerHTML = '<option value="">Selecione a disciplina</option>';
    valorAula.value = "";
    cargaHoraria.value = "";

    const prof = professorSelect.value;
    if(!prof) return;

    baseProfessores[prof].forEach((d, i) => {
        let option = document.createElement("option");
        option.value = i;
        option.textContent = d.disciplina;
        disciplinaSelect.appendChild(option);
    });
}

function preencherDadosDisciplina() {
    const prof = professorSelect.value;
    const index = disciplinaSelect.value;
    if(index === "") return;

    const dados = baseProfessores[prof][index];
    valorAula.value = dados.valor;
    cargaHoraria.value = dados.carga;
}

function cadastrarOuAtualizarProfessor() {
    const nome = professorSelect.value;
    const disciplina = disciplinaSelect.options[disciplinaSelect.selectedIndex].text;
    const valorAulaNum = parseFloat(valorAula.value);
    const cargaHorariaNum = parseInt(cargaHoraria.value);

    if(!nome || !disciplina) {
        alert("Selecione professor e disciplina!");
        return;
    }

    const professor = {
        nome,
        disciplina,
        valorAula: valorAulaNum,
        cargaHoraria: cargaHorariaNum,
        valorTotal: valorAulaNum * cargaHorariaNum
    };

    professores.push(professor);
    localStorage.setItem('professores', JSON.stringify(professores));
    atualizarTabela();
}

function atualizarTabela() {
    const tbody = document.querySelector('#tabelaProfessores tbody');
    tbody.innerHTML = '';
    professores.forEach((prof, index) => {
        tbody.innerHTML += `
        <tr>
            <td>${prof.nome}</td>
            <td>${prof.disciplina}</td>
            <td>R$ ${prof.valorAula.toFixed(2)}</td>
            <td>${prof.cargaHoraria}</td>
            <td>R$ ${prof.valorTotal.toFixed(2)}</td>
            <td>
                <button class="action-btn delete-btn" onclick="excluirProfessor(${index})">Excluir</button>
            </td>
        </tr>`;
    });
}

function excluirProfessor(i) {
    professores.splice(i,1);
    localStorage.setItem('professores', JSON.stringify(professores));
    atualizarTabela();
}
</script>

</body>
</html>
